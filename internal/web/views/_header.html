<!DOCTYPE html>
<html lang="en">

<head>
  <title>mountebank - {{ .title }}</title>
  <meta charset='utf-8'>
  <meta name='description' content='{{ .description }}' />
  <meta name='author' content='Rajan Panigrahi' />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel='shortcut icon' href='/images/favicon.ico' type='image/x-icon' />

  <!-- Google Fonts: Inter & Roboto (Amex uses a mix, but Inter is close enough to modern web) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap 5.3 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Tailwind CSS (for utility overrides) -->
  <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
  <script>
    tailwind.config = {
      prefix: 'tw-', // Prefix to avoid conflicts with Bootstrap
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          colors: {
            amex: {
              blue: '#006fcf', // Primary Bright Blue
              navy: '#00175a', // Dark Navy
              light: '#f4f6f8', // Background Gray
              surface: '#ffffff',
              border: '#dbe0e6',
            }
          }
        }
      }
    }
  </script>

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <style>
    /* Custom Overrides for Amex Look */
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f4f6f8;
      color: #333;
    }

    .navbar-amex {
      background-color: #ffffff;
      border-bottom: 1px solid #dbe0e6;
    }

    .btn-amex {
      background-color: #006fcf;
      color: white;
      border: none;
      font-weight: 500;
      border-radius: 4px;
      /* Slightly rounded, not full pill */
    }

    .btn-amex:hover {
      background-color: #0058a6;
      color: white;
    }

    .sidebar-link {
      color: #555;
      font-weight: 500;
      border-left: 3px solid transparent;
    }

    .sidebar-link:hover,
    .sidebar-link.active {
      color: #006fcf;
      background-color: #f8faff;
      border-left-color: #006fcf;
    }

    .nav-group-title {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: #777;
      margin-top: 1.5rem;
      margin-bottom: 0.5rem;
      padding-left: 1rem;
    }

    /* Logo Filter to match Blue */
    .logo-blue {
      filter: invert(30%) sepia(98%) saturate(1966%) hue-rotate(200deg) brightness(96%) contrast(104%);
    }

    /* Content Link Highlighting */
    #content a {
      color: #006fcf;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.15s ease-in-out;
    }

    #content a:hover {
      color: #004a87;
      text-decoration: underline;
    }

    /* Code Block Styling */
    pre {
      background-color: #282c34;
      /* Dark theme standard */
      color: #abb2bf;
      padding: 1rem;
      border-radius: 8px;
      overflow-x: auto;
      position: relative;
      /* For copy button positioning */
      margin-bottom: 1.5rem;
      border: 1px solid #dbe0e6;
    }

    code {
      font-family: 'Fira Code', 'Consolas', monospace;
      font-size: 0.9em;
    }

    /* Inline code styling */
    p code,
    li code,
    td code {
      background-color: #f0f2f5;
      color: #e83e8c;
      /* Bootstrap code pink, or generic dark red */
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
    }

    /* Global Typography Standardization */
    #content h1 {
      color: #00175a;
      font-weight: 700;
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
      letter-spacing: -0.02em;
    }

    #content h2 {
      color: #00175a;
      font-weight: 600;
      font-size: 2rem;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      border-bottom: 2px solid #eef2f7;
      padding-bottom: 0.5rem;
    }

    #content h3 {
      color: #00264d;
      font-weight: 600;
      font-size: 1.5rem;
      margin-top: 2rem;
      margin-bottom: 0.75rem;
    }

    #content h4 {
      color: #00264d;
      font-weight: 600;
      font-size: 1.25rem;
      margin-top: 1.5rem;
    }

    #content p,
    #content li {
      color: #444;
      line-height: 1.7;
      font-size: 1rem;
      margin-bottom: 1rem;
    }

    #content .lead {
      color: #555;
      font-size: 1.25rem;
      font-weight: 400;
    }

    /* Copy Button Styling */
    .copy-btn {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      background-color: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: #fff;
      font-size: 0.75rem;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      cursor: pointer;
      opacity: 0;
      /* Hidden by default */
      transition: opacity 0.2s, background-color 0.2s;
    }

    pre:hover .copy-btn {
      opacity: 1;
    }

    .copy-btn:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }

    .copy-btn.copied {
      background-color: #28a745;
      border-color: #28a745;
    }
  </style>

  <script src='/scripts/jquery/jquery-3.6.1.min.js'></script>
  <script src='/scripts/urlHashHandler.js'></script>
</head>

<body>

  <!-- Top Navigation Bar -->
  <nav class="navbar navbar-expand-lg navbar-amex sticky-top shadow-sm" style="height: 64px;">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center gap-2" href="/">
        <img src='/images/mountebank.png' alt='mountebank' class="logo-blue" height="30">
        <span class="fw-bold fs-5 text-primary" style="color: #00175a !important;">mountebank</span>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu"
        aria-controls="sidebarMenu">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto pt-2">
          <!-- Desktop Quick Links if needed -->
        </ul>
        <form method='GET' action='http://www.google.com/search' class="d-flex" role="search">
          <input type='hidden' name='domains' value='www.mbtest.dev' />
          <input type='hidden' name='sitesearch' value='www.mbtest.dev' />
          <div class="input-group">
            <span class="input-group-text bg-light border-end-0"><i class="bi bi-search"></i></span>
            <input class="form-control bg-light border-start-0" type="search" name="q" placeholder="Search..."
              aria-label="Search" style="max-width: 250px;">
          </div>
        </form>
        <div class="ms-3">
          <a href="https://github.com/mountebank-testing/mountebank"
            class="btn btn-outline-secondary btn-sm border-0"><i class="bi bi-github fs-5"></i></a>
        </div>
      </div>
    </div>
  </nav>

  <div class="container-fluid">
    <div class="row">

      <!-- Sidebar (Offcanvas on mobile, Col on desktop) -->
      <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-white sidebar collapse border-end"
        style="min-height: calc(100vh - 64px);">
        <div class="position-sticky pt-3 pb-5">

          <div class="nav-group-title">Main</div>
          <ul class="nav flex-column">
            <li class="nav-item"><a class="nav-link sidebar-link" href="/"><i class="bi bi-house-door me-2"></i>
                Home</a></li>
            <li class="nav-item"><a class="nav-link sidebar-link" href="/imposters"><i class="bi bi-diagram-3 me-2"></i>
                Imposters</a></li>
            <li class="nav-item"><a class="nav-link sidebar-link" href="/logs"><i class="bi bi-journal-text me-2"></i>
                Logs</a></li>
            <li class="nav-item"><a class="nav-link sidebar-link" href="/config"><i class="bi bi-gear me-2"></i>
                Config</a></li>
            <li class="nav-item"><a class="nav-link sidebar-link" href="/metrics"><i class="bi bi-bar-chart me-2"></i>
                Metrics</a></li>
          </ul>

          <div class="nav-group-title">The Apothecary</div>
          <ul class="nav flex-column">
            <li class="nav-item"><a class="nav-link sidebar-link" href="/docs/gettingStarted">Getting Started</a></li>
            <li class="nav-item"><a class="nav-link sidebar-link" href="/docs/mentalModel">Mental Model</a></li>
            <li class="nav-item"><a class="nav-link sidebar-link" href="/docs/commandLine">Command Line</a></li>
          </ul>

          <div class="nav-group-title">API Reference</div>
          <ul class="nav flex-column">
            <li class="nav-item"><a class="nav-link sidebar-link" href="/docs/api/overview">Overview</a></li>
            <li class="nav-item"><a class="nav-link sidebar-link" href="/docs/api/stubs">Stubs</a></li>
            <li class="nav-item"><a class="nav-link sidebar-link" href="/docs/api/predicates">Predicates</a></li>
            <li class="nav-item"><a class="nav-link sidebar-link" href="/docs/api/proxies">Proxies</a></li>
            <li class="nav-item"><a class="nav-link sidebar-link" href="/docs/api/injection">Injection</a></li>
            <li class="nav-item"><a class="nav-link sidebar-link" href="/docs/api/behaviors">Behaviors</a></li>
          </ul>

          <div class="nav-group-title">Protocols</div>
          <div class="d-flex flex-wrap gap-2 px-3">
            <a href="/docs/protocols/http"
              class="badge text-bg-light border text-secondary text-decoration-none">HTTP</a>
            <a href="/docs/protocols/https"
              class="badge text-bg-light border text-secondary text-decoration-none">HTTPS</a>
            <a href="/docs/protocols/tcp" class="badge text-bg-light border text-secondary text-decoration-none">TCP</a>
          </div>

        </div>
      </nav>

      <!-- Main Content -->
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-4 tw-min-h-screen">
        <div id="content" class="tw-max-w-4xl tw-mx-auto">