{{ template "_header.html" . }}

<div class="row g-4 mb-5">
  <div class="col-lg-12">
    <h1 class="display-4 fw-bold mb-3" style="color: #00175a;">Mental Model</h1>
    <p class="lead text-secondary mb-4">
      Understanding the core concepts of Mountebank.
    </p>
  </div>
</div>

<div class="card border-0 shadow-sm mb-5">
  <div class="card-body p-4 p-md-5">

    <p class="fs-5 text-muted mb-4">
      <a href='https://www.manning.com/' class="text-decoration-none fw-semibold">Manning Publishing</a> has been kind
      enough to help diagram the following mental model, describing how mountebank works:
    </p>

    <div class="text-center mb-5 p-3 bg-light rounded border">
      <a href='https://www.manning.com/books/testing-microservices-with-mountebank?a_aid=mb&a_bid=ee3288f4'>
        <img alt='mental model'
          src='https://freecontent.manning.com/wp-content/uploads/mentalmodel-testing-microservices-with-mountebank2.png'
          class="img-fluid rounded shadow-sm" style="max-height: 500px;" />
      </a>
    </div>

    <h3 class="fw-bold mb-4 pt-3 border-top" style="color: #00175a;">Lexicon</h3>

    <div class="row g-4">
      <div class="col-12">
        <dl class="row mb-0">

          <dt class="col-sm-3 text-sm-end text-primary fw-bold mb-2 mb-sm-0">imposter</dt>
          <dd class="col-sm-9 mb-4">
            A server representing a test double. An <em>imposter</em> is identified by a port and a protocol. mountebank
            is non-modal and can create as many <em>imposters</em> as your test requires.
          </dd>

          <dt class="col-sm-3 text-sm-end text-primary fw-bold mb-2 mb-sm-0">stub</dt>
          <dd class="col-sm-9 mb-4">
            A set of configuration used to generate a response for an <em>imposter</em>. An <em>imposter</em> can have 0
            or more <em>stubs</em>, each of which are associated with different <em>predicates</em>.
          </dd>

          <dt class="col-sm-3 text-sm-end text-primary fw-bold mb-2 mb-sm-0">predicate</dt>
          <dd class="col-sm-9 mb-4">
            A condition that determines whether a given <em>stub</em> is responsible for responding. Each <em>stub</em>
            can have 0 or more <em>predicates</em>.
          </dd>

          <dt class="col-sm-3 text-sm-end text-primary fw-bold mb-2 mb-sm-0">response</dt>
          <dd class="col-sm-9 mb-4">
            The configuration that generates the response for a <em>stub</em>. Each <em>stub</em> can have 0 or more
            <em>responses</em>.
          </dd>

          <dt class="col-sm-3 text-sm-end text-primary fw-bold mb-2 mb-sm-0">response type</dt>
          <dd class="col-sm-9 mb-4">
            Defines the specific type of configuration used to generate a response. The simplest type is called
            <em>is</em>, and allows you to define the <em>imposter's</em> response directly. mountebank also supports a
            <em>proxy</em> response type, which allows record-replay behavior, and an <em>inject</em> response type,
            which allows you to script mountebank responses. Each <em>response</em> has exactly one <em>response
              type</em>.
          </dd>

          <dt class="col-sm-3 text-sm-end text-primary fw-bold mb-2 mb-sm-0">stub behavior</dt>
          <dd class="col-sm-9">
            Adds additional post-processing to a response, for example by adding latency to the response or augmenting
            the response with more information. A <em>response</em> can have zero or more <em>behaviors</em>, which
            represent a pipeline of such transformations.
          </dd>

        </dl>
      </div>
    </div>
  </div>
</div>

{{ template "_footer.html" . }}